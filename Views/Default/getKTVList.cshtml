@model IEnumerable<WebApplication.Models.HumanResource>

    @foreach (var KTV in Model.Where(s => s.hide == true))
    {
        <tr>
            <td class="py-1">
                <img src="@(string.IsNullOrEmpty(KTV.avatar) ? "/Content/assets/images/faces-clipart/default-avatar.jpg" : "/Content/assets/images/faces-clipart/" + KTV.avatar)" alt="avatar">
            </td>
            <td> @KTV.hoten </td>
            <td> @KTV.mssv </td>
            <td class="text-success"> @KTV.trangthai </td>
            <td>
                <div class="progress">
                    <div class="progress-bar bg-primary" role="progressbar" style="width: 50%"
                         aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">50%</div>
                </div>
            </td>
        </tr>
    }

<tr>
    <td colspan="5">
        <div class="d-flex justify-content-center">
            <nav>
                <ul class="pagination">
                    @{
                        var currentPage = ViewBag.CurrentPage;
                        var totalPages = ViewBag.TotalPages;
                        var startPage = Math.Max(1, currentPage - 2);
                        var endPage = Math.Min(totalPages, startPage + 4);
                        
                        if (currentPage > 1)
                        {
                            <li class="page-item">
                                <a class="page-link" href="javascript:void(0)" onclick="loadPage(1)">
                                    <i class="mdi mdi-chevron-double-left"></i>
                                </a>
                            </li>
                        }

                        for (int i = startPage; i <= endPage; i++)
                        {
                            <li class="page-item @(i == currentPage ? "active" : "")">
                                <a class="page-link" href="javascript:void(0)" onclick="loadPage(@i)">@i</a>
                            </li>
                        }

                        if (currentPage < totalPages)
                        {
                            <li class="page-item">
                                <a class="page-link" href="javascript:void(0)" onclick="loadPage(@totalPages)">
                                    <i class="mdi mdi-chevron-double-right"></i>
                                </a>
                            </li>
                        }
                    }
                </ul>
            </nav>
        </div>
    </td>
</tr>


